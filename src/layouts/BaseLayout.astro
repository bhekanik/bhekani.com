---
import "@fontsource-variable/jetbrains-mono";
import "@fontsource/ibm-plex-sans";
import "@fontsource/oswald";
import "@fontsource/permanent-marker";

import { AstroSeo } from "@astrolib/seo";
import { ViewTransitions } from "astro:transitions";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import PostHog from "../components/PostHog.astro";
// import "../styles/global.css";

const { pageTitle, description, title, imageUrl } = Astro.props;
---

<style is:global>
  :root {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 263.4 70% 50.4%;
    --primary-foreground: 210 20% 98%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 263.4 70% 50.4%;

    --links: 183.4 90% 80.4%;
  }

  html {
    background-color: hsl(var(--background));
    font-family: "IBM Plex Sans", sans-serif;
    color: hsl(var(--foreground));
  }

  code,
  pre {
    font-family: "JetBrains Mono", monospace;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Oswald", cursive;
  }

  body {
    position: relative;
    display: grid;
    grid-template:
      "header" auto
      "page-header" auto
      "main" 1fr
      "footer" auto;
    width: 100%;
    min-height: 100svh;
    line-height: 1.5;
  }

  * {
    box-sizing: border-box;
  }

  main {
    grid-area: main;
    margin: 0 auto;
    width: 100%;
    max-width: 80ch;
    padding: 0 2rem 2rem;
  }

  a {
    color: hsl(var(--links));
    transition: all 0.2s ease-in-out;
  }

  a:hover {
    background-color: hsl(var(--muted));
    color: hsl(var(--links));
    transition: all 0.2s ease-in-out;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    line-height: 1.1;
  }
</style>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link
      rel="webmention"
      href="https://webmention.io/www.bhekani.com/webmention"
    />
    <link rel="pingback" href="https://webmention.io/www.bhekani.com/xmlrpc" />

    <title>{pageTitle} | Bhekani.com</title>
    <ViewTransitions />
    <PostHog />
    <AstroSeo
      title={pageTitle}
      description={description ??
        "Personal website of Bhekani Khumalo. I write about tech, productivity, life, and more."}
      canonical="https://www.bhekani.com"
      openGraph={{
        url: "https://www.url.ie/a",
        title: title ?? pageTitle,
        description:
          description ??
          "Personal website of Bhekani Khumalo. I write about tech, productivity, life, and more.",
        images: [
          {
            url: imageUrl ?? "https://www.bhekani.com/BK.jpg",
            width: 800,
            height: 600,
            alt: title ?? pageTitle,
            type: "image/jpeg",
          },
          {
            url: imageUrl ?? "https://www.bhekani.com/BK.jpg",
            width: 900,
            height: 800,
            alt: title ?? pageTitle,
            type: "image/jpeg",
          },
        ],
        site_name: "Bhekani.com",
      }}
      twitter={{
        handle: "@bhekanik",
        site: "@bhekani.com",
        cardType: "summary_large_image",
      }}
    />
  </head><body>
    <Header />
    <h1
      class="page-header text-center text-5xl p-8 border-b-[1px] border-[hsl(var(--muted))] uppercase"
    >
      {title ?? pageTitle}
    </h1>
    <slot />
    <Footer />
  </body>
</html>
