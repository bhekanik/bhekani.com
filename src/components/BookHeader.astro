---
import type { CollectionEntry } from "astro:content";
import Case from "case";
import { format } from "date-fns";
import Link from "../components/Link.astro";
import TagsList from "./TagsList.astro";

type Props = {
  book: CollectionEntry<"books">;
};

const {
  book: { data: frontmatter, slug },
} = Astro.props;
---

<div transition:name={`card-${slug}`}>
  <p class="my-4">
    <Link
      transition:name={`back-${slug}`}
      class="text-sm hover:text-[hsl(var(--muted-foreground))]"
      href="/books/"
    >
      ‚Üê All books
    </Link>
  </p>

  <TagsList tags={frontmatter.tags} />

  <div class="mt-4 mb-8">
    <p class="text-xs">{Case.upper(frontmatter.author)}</p>
    <time
      transition:name={`date-${slug}`}
      class="text-sm text-[hsl(var(--muted-foreground))]"
      datetime={new Date(frontmatter.dateAdded).toDateString()}
    >
      {format(new Date(frontmatter.dateAdded), "MMMM dd, yyyy")}
    </time>
  </div>
</div>
